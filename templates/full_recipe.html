{% extends "base.html" %}
{% block page_background %}{% endblock %}
{% block content %}

<div class="row">
    <div class="col s12">
        <h3 class="center-align page-heading">
            {{ recipe.recipe_name }}
        </h3>
    </div>
</div>


<!-- Full Recipe Intro -->
<section class="intro valign-wrapper">
    <div class="row">
        <div class="col s12 m6 xl5">
            <div class="card-panel center-align card-panel-full-recipe">
                <div class="row">
                    <div class="col s12">
                        <p class="total-time">Total Time: <span>{{ recipe.prep_time }}</span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <p class="serves">Serves: <span>{{ recipe.serves }}</span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        {% if recipe.recipe_url %}
                            <p class="recipe-url">
                                Original Recipe <a href="{{ recipe.recipe_url }}" target="_blank">Here</a>
                            </p>
                        {% endif %}
                    </div>
                </div>
                {% if session.user|lower == recipe.created_by|lower %}
                <div class="row btn-row-recipe">
                    <div class="col s12">
                        <div class="col s6 m6">
                            <a class="btn-edit" href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">Edit <i
                                    class="fas fa-edit"></i></a>
                        </div>
                        <div class="col s6 m6">
                            <a class="btn-delete modal-trigger" href="#modal1">Delete <i class="fas fa-trash-alt"></i></a>
                        </div>
                    </div>
                </div>
                {% endif %}
                <div class="row back-btn-row">
                    <div class="col s12">
                        <a id="back-btn" class="btn-back" href="#" onclick="takeMeBack()"><i
                                class="fas fa-arrow-left"></i> Back</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col s12 m6 xl7">
            <div class="img-box-recipe">
                <img src="{{ recipe.image_url }}" alt="{{ recipe.recipe_name }}">
            </div>
        </div>
    </div>
</section>

<!-- Method and Ingredients -->
<!-- Inspired from https://github.com/rebeccatraceyt/bake-it-til-you-make-it/blob/master/templates/recipe/recipe.html -->
<section class="recipe-info">
    <div class="row">
        <div class="col s12 m6 xl5">
            <div class="panel-ingredients">
                <div class="col s12">
                    <h3 class="ing-heading center-align">
                        Ingredients<span class="img-cont"><img
                                src="{{ url_for('static', filename='images/mint-leaf.png') }}" alt=""></span></h3>
                </div>
                <div class="col s12 ingredients-list">
                    {% for ingredient in recipe.ingredients %}
                        <p class="ingredient">{{ ingredient }}</p>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col s12 m6 xl7">
            <ol>
                <li class="heading-panel">
                    <h3 class="center-align method-heading">
                        Method<span class="img-cont"><img src="{{ url_for('static', filename='images/mint-leaf.png') }}"
                                alt=""></span></h3>
                </li>
                {% for step in recipe.method %}
                <li class="step-panel">
                    <span>Step {{ loop.index }}: </span><br>{{ step }}
                </li>
                {% endfor %}
            </ol>
        </div>
    </div>
</section>

<!-- Delete Recipe Modal -->

<div id="modal1" class="modal modal-del-recipe">
    <div class="modal-content">
        <h4 class="center-align">Please confirm you choice?</h4>
        <p class="center-align">Are you sure you want to delete <span>{{ recipe.recipe_name }} recipe?</span></p>
        <p class="center-align">After this you will not be able to get it back!</p>
        <p class="center-align">This change is permanent!</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Calcel</a>
        <a href="#!" class="waves-effect waves-green btn-flat">Delete</a>
    </div>
</div>



{% endblock %}